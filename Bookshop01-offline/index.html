<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="stylesheet" href="styles.css">

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bookstore Management</title>
</head>

<body>
    <h1>Bookstore Management</h1>

    <!-- Form to purchase a book -->
    <form action="http://localhost:8080/purchase" method="POST">
        <label for="bookNumber">Book Number:</label>
        <input type="text" id="bookNumber" name="bookNumber" required>

        <label for="bookName">Book Name:</label>
        <input type="text" id="bookName" name="bookName" required>

        <label for="authorName">Author Name:</label>
        <input type="text" id="authorName" name="authorName" required>

        <label for="copies">No. of Copies:</label>
        <input type="number" id="copies" name="copies" required>

        <button type="submit">Add Book</button>
    </form>

    <!-- Button to display all books -->
    <button onclick="displayBooks()">Display All Books</button>

    <!-- Area to display book list -->
    <div id="bookList"></div>

    <!-- Search Book -->
    <h2>Search Book</h2>
    <form action="http://localhost:8080/search" method="GET">
        <label for="searchBookNumber">Book Number:</label>
        <input type="text" id="searchBookNumber" name="bookNumber" required>
        <button type="submit">Search</button>
    </form>

    <!-- Update Book -->
    <h2>Update Book</h2>
    <form action="http://localhost:8080/update" method="PUT">
        <label for="updateBookNumber">Book Number:</label>
        <input type="text" id="updateBookNumber" name="bookNumber" required>

        <label for="updateBookName">Book Name:</label>
        <input type="text" id="updateBookName" name="bookName" required>

        <label for="updateAuthorName">Author Name:</label>
        <input type="text" id="updateAuthorName" name="authorName" required>

        <label for="updateCopies">No. of Copies:</label>
        <input type="number" id="updateCopies" name="copies" required>

        <button type="submit">Update Book</button>
    </form>

    <!-- Delete Book -->
    <h2>Delete Book</h2>
    <form action="http://localhost:8080/delete" method="DELETE">
        <label for="deleteBookNumber">Book Number:</label>
        <input type="text" id="deleteBookNumber" name="bookNumber" required>
        <button type="submit">Delete</button>
    </form>

    <script>
        function displayBooks() {
            // Fetch data from the server
            fetch('http://localhost:8080/display')
                .then(response => response.text())
                .then(data => {
                    // Display the book list
                    document.getElementById('bookList').innerText = data;
                });
        }
    </script>
</body>

</html>
